{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section bg-gradient-primary text-white" style="margin-top: 76px;">
    <div class="container">
        <div class="row align-items-center min-vh-75">
            <div class="col-lg-6">
                <h1 class="display-4 fw-bold mb-4">
                    {{ lab_info.tagline }}
                </h1>
                <p class="lead mb-4">
                    Trusted by healthcare providers and patients for over {{ 2024 - lab_info.established|int }} years. 
                    We deliver accurate, timely diagnostic results with cutting-edge technology and expert analysis.
                </p>
                <div class="d-flex flex-wrap gap-3">
                    <a href="{{ url_for('services') }}" class="btn btn-light btn-lg">
                        <i class="fas fa-microscope me-2"></i>Our Services
                    </a>
                    <a href="{{ url_for('contact') }}" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-calendar-alt me-2"></i>Schedule Test
                    </a>
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-stats mt-5">
                    <div class="row">
                        <div class="col-6 mb-4">
                            <div class="stat-card bg-white bg-opacity-10 p-4 rounded">
                                <h3 class="display-6 fw-bold counter" data-target="{{ lab_info.tests_per_year.replace(',', '').replace('+', '') }}">0</h3>
                                <p class="mb-0">Tests Annually</p>
                            </div>
                        </div>
                        <div class="col-6 mb-4">
                            <div class="stat-card bg-white bg-opacity-10 p-4 rounded">
                                <h3 class="display-6 fw-bold counter" data-target="{{ lab_info.accuracy_rate.replace('%', '') }}">0</h3>
                                <p class="mb-0">Accuracy Rate</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 p-4 rounded">
                                <h3 class="display-6 fw-bold">24-48</h3>
                                <p class="mb-0">Hour Turnaround</p>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="stat-card bg-white bg-opacity-10 p-4 rounded">
                                <h3 class="display-6 fw-bold">{{ 2024 - lab_info.established|int }}+</h3>
                                <p class="mb-0">Years Experience</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Services Overview -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center mb-5">
                <h2 class="display-5 fw-bold mb-4">Our Laboratory Services</h2>
                <p class="lead text-muted">
                    Comprehensive diagnostic testing with state-of-the-art equipment and expert analysis
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            {% for service in services %}
            <div class="col-lg-4 col-md-6">
                <div class="service-card h-100 p-4 border rounded shadow-sm hover-lift">
                    <div class="service-icon mb-3">
                        <span class="display-4">{{ service.icon }}</span>
                    </div>
                    <h5 class="fw-bold mb-3">{{ service.name }}</h5>
                    <p class="text-muted mb-3">{{ service.description }}</p>
                    <ul class="list-unstyled mb-3">
                        {% for test in service.tests[:3] %}
                        <li class="mb-1">
                            <i class="fas fa-check text-success me-2"></i>{{ test }}
                        </li>
                        {% endfor %}
                    </ul>
                    <a href="{{ url_for('service_detail', service_id=service.id) }}" class="btn btn-outline-primary">
                        Learn More <i class="fas fa-arrow-right ms-1"></i>
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Why Choose Us -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center mb-5">
                <h2 class="display-5 fw-bold mb-4">Why Choose {{ lab_info.name }}?</h2>
                <p class="lead text-muted">
                    We're committed to providing the highest quality diagnostic services with exceptional patient care
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-lg-3 col-md-6 text-center">
                <div class="feature-card p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-award text-primary" style="font-size: 3rem;"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Accredited Excellence</h5>
                    <p class="text-muted">{{ lab_info.certifications|length }} major certifications ensuring quality standards</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 text-center">
                <div class="feature-card p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-clock text-primary" style="font-size: 3rem;"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Fast Results</h5>
                    <p class="text-muted">{{ lab_info.turnaround_time }} average turnaround time for most tests</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 text-center">
                <div class="feature-card p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-user-md text-primary" style="font-size: 3rem;"></i>
                    </div>
                    <h5 class="fw-bold mb-3">Expert Team</h5>
                    <p class="text-muted">Board-certified pathologists and experienced technologists</p>
                </div>
            </div>
            
            <div class="col-lg-3 col-md-6 text-center">
                <div class="feature-card p-4">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-shield-alt text-primary" style="font-size: 3rem;"></i>
                    </div>
                    <h5 class="fw-bold mb-3">{{ lab_info.accuracy_rate }} Accuracy</h5>
                    <p class="text-muted">Proven track record of reliable and accurate results</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Team Preview -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center mb-5">
                <h2 class="display-5 fw-bold mb-4">Meet Our Expert Team</h2>
                <p class="lead text-muted">
                    Our board-certified professionals bring decades of experience in diagnostic medicine
                </p>
            </div>
        </div>
        
        <div class="row g-4">
            {% for member in team[:4] %}
            <div class="col-lg-3 col-md-6 text-center">
                <div class="team-card p-4">
                    <div class="team-image mb-3">
                        <div class="bg-primary rounded-circle d-inline-flex align-items-center justify-content-center" style="width: 120px; height: 120px;">
                            <i class="fas fa-user-md text-white" style="font-size: 3rem;"></i>
                        </div>
                    </div>
                    <h5 class="fw-bold mb-1">{{ member.name }}</h5>
                    <p class="text-primary mb-2">{{ member.credentials }}</p>
                    <p class="text-muted small mb-3">{{ member.title }}</p>
                    <p class="text-muted small">{{ member.specialization }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-4">
            <a href="{{ url_for('team') }}" class="btn btn-primary btn-lg">
                Meet Our Full Team <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>

<!-- Emergency Services -->
<section class="py-5 bg-primary text-white">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h3 class="fw-bold mb-3">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    Emergency Laboratory Services Available 24/7
                </h3>
                <p class="mb-0">
                    Critical tests and urgent diagnostics available around the clock. 
                    Call our emergency line for immediate assistance.
                </p>
            </div>
            <div class="col-lg-4 text-lg-end">
                <a href="tel:{{ lab_info.contact.emergency }}" class="btn btn-light btn-lg">
                    <i class="fas fa-phone me-2"></i>{{ lab_info.contact.emergency }}
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Contact CTA -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h2 class="display-5 fw-bold mb-4">Ready to Get Started?</h2>
                <p class="lead text-muted mb-4">
                    Contact us today to schedule your laboratory tests or learn more about our services
                </p>
                <div class="d-flex flex-wrap justify-content-center gap-3">
                    <a href="{{ url_for('contact') }}" class="btn btn-primary btn-lg">
                        <i class="fas fa-envelope me-2"></i>Contact Us
                    </a>
                    <a href="tel:{{ lab_info.contact.phone }}" class="btn btn-outline-primary btn-lg">
                        <i class="fas fa-phone me-2"></i>{{ lab_info.contact.phone }}
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_css %}
<style>
.bg-gradient-primary {
    background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
}

.min-vh-75 {
    min-height: 75vh;
}

.hover-lift {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-lift:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0,0,0,0.1) !important;
}

.service-card, .feature-card, .team-card {
    transition: all 0.3s ease;
}

.counter {
    color: inherit;
}
</style>
{% endblock %}

{% block extra_js %}
<script>
// Counter animation
document.addEventListener('DOMContentLoaded', function() {
    const counters = document.querySelectorAll('.counter');
    
    const animateCounters = () => {
        counters.forEach(counter => {
            const target = parseInt(counter.getAttribute('data-target'));
            const current = parseInt(counter.innerText);
            const increment = target / 100;
            
            if (current < target) {
                counter.innerText = Math.ceil(current + increment);
                setTimeout(animateCounters, 20);
            } else {
                if (counter.getAttribute('data-target').includes('500000')) {
                    counter.innerText = '500,000+';
                } else if (counter.getAttribute('data-target').includes('99')) {
                    counter.innerText = '99.8%';
                }
            }
        });
    };
    
    // Start animation when page loads
    setTimeout(animateCounters, 500);
});
</script>
{% endblock %}